* Fraunhofer model
 
* Automatically generated device model
* Generated: 07-Feb-2020 10:32:38
 
.SUBCKT FRAUNHOFER D G S
 
********************************
** Current generator circuit **
********************************
.FUNC PAR_B(V) {TABLE(V,4,2.8676,5.6,8.7653,7.2,22.6109,8.8,51.5624,10.4,110.1295,12,232.4464)}
.FUNC PAR_L(V) {TABLE(V,4,-0.84181,5.6,-0.7757,7.2,-0.75473,8.8,-0.75066,10.4,-0.74576,12,-0.72877)}
.FUNC PAR_V(V) {TABLE(V,4,1.4671,5.6,1.8799,7.2,2.5983,8.8,3.5846,10.4,4.8017,12,6.0991)}
.FUNC PAR_A(V) {TABLE(V,4,0.19033,5.6,0.17874,7.2,0.13158,8.8,0.088134,10.4,0.055361,12,0.032285)}
.FUNC PAR_EPS(V) {TABLE(V,-5,3.6088,0,2.7642,5,1.8487,10,0.63762,15,0.0093346,20,0.013425)}
.FUNC PAR_RON(V) {TABLE(V,-5,0.053181,0,0.11078,5,0.10099,10,0.094407,15,0.076438,20,0.064831)}
.FUNC PAR_VFW(V) {TABLE(V,-5,2.879,0,1.325,5,0.30711,10,2.7473e-14,15,0.071498,20,0.025152)}
B1 D1 S1 I = IF(V(D1,S1)>=0,PAR_B(V(G1,S1))*(1+PAR_L(V(G1,S1))*(1-exp(-V(D1,S1)/PAR_V(V(G1,S1)))))*tanh(PAR_A(V(G1,S1))*V(D1,S1)),
+		IF(V(S1,D1)-PAR_VFW(V(G1,S1))<=0,0,
+		IF(V(S1,D1)-PAR_VFW(V(G1,S1))>PAR_EPS(V(G1,S1)),-((V(S1,D1)-PAR_VFW(V(G1,S1)))/PAR_RON(V(G1,S1))-(1/(2*PAR_EPS(V(G1,S1))*PAR_RON(V(G1,S1))))*PAR_EPS(V(G1,S1))**2),
+		-((V(S1,D1)-PAR_VFW(V(G1,S1)))**2/(2*PAR_EPS(V(G1,S1))*PAR_RON(V(G1,S1)))))))
********************************
 
********************************
* Non-linear Device Capacitors *
********************************
CGS G2 S1 {kgs*1818.6151*1e-12}
RGS G1 G2 {r_gs}
CDS D2 S1 Q = kds*1e-12*TABLE(x,-1000,-1179698.2085,0,0,0.1,117.9698,0.2,233.3481,0.3,346.2638,0.4,456.8285,0.5,565.1362,0.6,671.2636,0.7,775.27,0.8,877.1971,0.9,977.0694,1,1074.8938,1.1,1170.7318,1.2,1264.7654,1.3,1357.2154,1.4,1448.2671,1.5,1538.0695,1.6,1626.7357,1.7,1714.343,1.8,1800.9325,1.9,1886.5095,2,1971.0432,2.1,2054.5154,10,7068.5295,12,8065.5295,14,8998.5295,16,9878.5295,18,10714.5295,20,11511.5295,22,12273.5295,24,13006.5295,26,13713.5295,28,14397.5295,30,15060.5295,35,16635.5295,40,18110.5295,45,19503.0295,50,20825.5295,60,23300.5295,70,25590.5295,80,27730.5295,90,29740.5295,100,31645.5295,150,40120.5295,200,47245.5295,300,59295.5295,400,69445.5295,500,78345.5295,750,97220.5295,800,100520.5295,1000,113220.5295)
RDS D1 D2 {r_ds}
CDG D3 G1 Q = kdg*1e-12*TABLE(x,-1000,-1441638.5865,0,0,0.1,144.1639,0.2,285.6672,0.3,424.1472,0.4,559.2682,0.5,690.7218,0.6,818.2265,0.7,941.5285,0.8,1060.4006,0.9,1174.6434,1,1284.0841,1.1,1388.2258,1.2,1486.0112,1.3,1576.3488,1.4,1658.522,1.5,1732.1899,1.6,1797.3866,1.7,1854.5217,1.8,1904.3799,1.9,1948.1213,2,1987.2812,2.1,2023.2742,2.2,2056.7685,2.3,2087.9904,10,2986.5777,12,3111.5777,14,3224.5777,16,3328.5777,18,3425.5777,20,3517.5777,22,3605.5777,24,3689.5777,26,3770.5777,28,3848.5777,30,3923.5777,35,4103.5777,40,4273.5777,45,4433.5777,50,4586.0777,60,4876.0777,70,5146.0777,80,5401.0777,90,5646.0777,100,5881.0777,150,6956.0777,200,7906.0777,300,9556.0777,400,11006.0777,500,12356.0777,750,15481.0777,1000,18481.0777)
RDG D1 D3 {r_dg}
********************************
 
********************************
** Parasitic Pin Inductances **
********************************
LDRAIN  D DX {1e-9*Ld} Rser=0 Rpar={r_dp} Cpar={1e-12*c_dp}
RD		DX D1 R={V(ND,0)}
ED ND 0 value={limit(V(D1,S1)/100, 1e-3, rd)}
RED ND 0 1e6
LGATE   G GX {1e-9*Lg} Rser=0 Rpar={r_gp} Cpar={1e-12*c_gp}
RG		GX G1 R={V(NG,0)}
EG NG 0 value={limit(V(D1,S1)/100, 1e-3, rg)}
REG NG 0 1e6
LSOURCE SX S {1e-9*Ls} Rser=0 Rpar={r_sp} Cpar={1e-12*c_sp}
RS		S1 SX R={V(NS,0)}
ES NS 0 value={limit(V(D1,S1)/100, 1e-3, rs)}
RES NS 0 1e6
********************************
 
********************************
**** Model Input Parameters ****
********************************
.PARAM Ld = 0.10391
.PARAM r_dp = 18
.PARAM c_dp = 932.875
 
.PARAM Lg = 5.895
.PARAM r_gp = 9.749
.PARAM c_gp = 389
 
.PARAM Ls = 3.6
.PARAM r_sp = 4
.PARAM c_sp = 401.0005
 
.PARAM rd = 0.0001
.PARAM rg = 0.0001
.PARAM rs = 0.0001
 
.PARAM kds = 1
.PARAM kgs = 3.002
.PARAM kdg = 1
 
.PARAM r_ds = 0.0001
.PARAM r_gs = 0.0001
.PARAM r_dg = 0.0001
********************************
 
.ENDS FRAUNHOFER
